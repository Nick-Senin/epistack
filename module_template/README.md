# Module Template

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è DSPy –º–æ–¥—É–ª–µ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ epistack.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
module_template/
‚îú‚îÄ‚îÄ module.py          # –û—Å–Ω–æ–≤–Ω–æ–π DSPy –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ signatures.py      # –°–∏–≥–Ω–∞—Ç—É—Ä—ã –¥–ª—è DSPy
‚îú‚îÄ‚îÄ metrics.py         # –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
‚îú‚îÄ‚îÄ optimize.py        # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ demo_test.py       # –î–µ–º–æ-—Ç–µ—Å—Ç
‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LLM
‚îú‚îÄ‚îÄ __init__.py        # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω

### 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω

```bash
cp -r module_template/ my_new_module/
cd my_new_module/
```

### 2. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –∫–ª–∞—Å—Å—ã

–ó–∞–º–µ–Ω–∏—Ç–µ –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö:
- `ModuleName` ‚Üí `YourModuleName`
- `ModuleSignature` ‚Üí `YourModuleSignature`
- `ModuleMetric` ‚Üí `YourModuleMetric`

### 3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ TODO

–ü—Ä–æ–π–¥–∏—Ç–µ—Å—å –ø–æ –≤—Å–µ–º —Ñ–∞–π–ª–∞–º –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ TODO-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:

#### `signatures.py`
- [ ] –û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É –≤ docstring —Å–∏–≥–Ω–∞—Ç—É—Ä—ã
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –ø–æ–ª—è (InputField)
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –ø–æ–ª—è (OutputField)

#### `module.py`
- [ ] –û–ø–∏—à–∏—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è
- [ ] –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø DSPy –º–æ–¥—É–ª—è (Predict, ChainOfThought, ReAct –∏ —Ç.–¥.)
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ª–æ–≥–∏–∫—É –≤ –º–µ—Ç–æ–¥–µ `forward()`
- [ ] –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–µ/–ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

#### `metrics.py`
- [ ] –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç—Ä–∏–∫—É –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- [ ] –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥: exact match, similarity, LLM as Judge –∏ —Ç.–¥.
- [ ] –î–æ–±–∞–≤—å—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π feedback –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### `optimize.py`
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞—Ç–∞—Å–µ—Ç–∞
- [ ] –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä (GEPA, MIPRO, Bootstrap)
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

#### `demo_test.py`
- [ ] –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- [ ] –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

#### `config.py`
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- [ ] –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã LLM

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–º–æ-—Ç–µ—Å—Ç

```bash
python my_new_module/demo_test.py
```

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é

```python
from my_new_module import optimize

# –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–∞—Ç–∞—Å–µ—Ç
dataset = [...]

# –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª—å
optimized_module = optimize(
    dataset=dataset,
    max_metric_calls=50,
    optimizer_type='gepa'
)

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å
optimized_module.save('my_new_module/optimized_module.json')
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from my_new_module import YourModuleName, configure_module_llm

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ LLM
configure_module_llm()

# –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª—è
module = YourModuleName()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = module(input_field="–≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ")
print(result.output_data)
```

### –° –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π LLM

```python
from my_new_module import YourModuleName, configure_module_llm

# –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è
configure_module_llm(
    model="openai/gpt-4",
    temperature=0.7
)

module = YourModuleName()
result = module(input_field="–≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ")
```

## üîß –¢–∏–ø—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–≤

### GEPA (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ —Å —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π:
```python
optimize(dataset, optimizer_type='gepa', max_metric_calls=50)
```

### MIPRO
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤:
```python
optimize(dataset, optimizer_type='mipro')
```

### Bootstrap
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è few-shot –ø—Ä–∏–º–µ—Ä–æ–≤:
```python
optimize(dataset, optimizer_type='bootstrap')
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [DSPy –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://dspy-docs.vercel.app/)
- [–ü—Ä–∏–º–µ—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](../module_naming/)
- [–†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞—Å–µ—Ç–∞–º–∏](../epistack_data/)

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ú–µ—Ç—Ä–∏–∫–∏**: –ö–∞—á–µ—Å—Ç–≤–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –º–µ—Ç—Ä–∏–∫–∏. –ü–æ—Ç—Ä–∞—Ç—å—Ç–µ –≤—Ä–µ–º—è –Ω–∞ –µ—ë —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.
2. **–î–∞—Ç–∞—Å–µ—Ç**: –ù—É–∂–µ–Ω –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ (–º–∏–Ω–∏–º—É–º 20-50).
3. **LLM**: –í—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é –º–æ–¥–µ–ª—å –¥–ª—è –≤–∞—à–µ–π –∑–∞–¥–∞—á–∏.
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏—Ç–µ—Ä–∞—Ü–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üêõ –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –º–æ–¥—É–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É LLM –≤ `config.py`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–∞—Ç–∞—Å–µ—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `demo_test.py` –¥–ª—è –±–∞–∑–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏



